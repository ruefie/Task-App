@use "sass:color";

$text-color:    #374151;
$muted-text:    color.adjust($text-color, $lightness: 10%);
$border-color:  #e5e7eb;
$white:         #ffffff;
$primary-color: #2563eb;
$hover-bg:      #f3f4f6;

:root {
  --control-h: 38px;
}

/* GRID LAYOUT: search | controls , chips full width */
.toolbar {
  display: grid;
  grid-template-columns: 1fr auto;
  grid-template-areas:
    "search controls"
    "chips  chips";
  gap: 0.75rem;
  align-items: center;
  margin-bottom: 0.5rem;
}

.searchWrap { 
  grid-area: search;
  position: relative;
  min-width: 260px;
}

.searchInput {
  width: 100%;
  height: var(--control-h);
  padding: 0 2.25rem 0 0.75rem;
  border: 1px solid $border-color;
  border-radius: 0.5rem;
  font-size: 0.95rem;
  color: $text-color;
  background: $white;

  &::placeholder { color: $muted-text; }

  &:focus {
    outline: 2px solid color.adjust($primary-color, $lightness: 20%);
    outline-offset: 1px;
  }
}

/* the small X inside the search box */
.clearBtn {
  position: absolute;
  right: 0.25rem;
  top: 50%;
  transform: translateY(-50%);
  padding: 0.25rem;
  border: 1px solid transparent;
  background: transparent;
  border-radius: 0.375rem;
  cursor: pointer;

  &:hover { background: $hover-bg; }
}

/* NEW: wrapper for selects + Clear button */
.controlsRow {
  grid-area: controls;
  display: inline-flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 0.5rem;
  justify-content: flex-end;
}

/* Selects */
.select {
  height: var(--control-h);
  padding: 0 0.75rem;
  border: 1px solid $border-color;
  border-radius: 0.5rem;
  background: $white;
  font-size: 0.95rem;
  color: $text-color;
  cursor: pointer;

  &:hover { background: $hover-bg; }
  &:focus {
    outline: 2px solid color.adjust($primary-color, $lightness: 20%);
    outline-offset: 1px;
  }
}

/* Clear button beside Sort (matches select height) */
.clearActionBtn {
  height: var(--control-h);
  padding: 0 0.9rem;
  border: 1px solid $border-color;
  border-radius: 0.5rem;
  background: $white;
  color: $text-color;
  font-size: 0.95rem;
  cursor: pointer;

  &:hover { background: $hover-bg; }
  &:focus {
    outline: 2px solid color.adjust($primary-color, $lightness: 20%);
    outline-offset: 1px;
  }
}

/* Quick due chips */
.chips {
  grid-area: chips;
  display: flex;
  gap: 0.375rem;
  flex-wrap: wrap;
}

.chip {
  padding: 0.35rem 0.6rem;
  font-size: 0.85rem;
  border: 1px solid $border-color;
  border-radius: 999px;
  background: $white;
  cursor: pointer;
  color: $text-color;

  &:hover { background: $hover-bg; }
}

.chipActive {
  background: $primary-color;
  color: var(--card);
  border-color: $primary-color;
}

/* Responsive: stack controls under search on narrow screens */
@media (max-width: 720px) {
  .toolbar {
    grid-template-columns: 1fr;
    grid-template-areas:
      "search"
      "controls"
      "chips";
  }
  .controlsRow { justify-content: flex-start; }
}
